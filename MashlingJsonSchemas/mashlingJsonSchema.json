{
    "anyOf": [
        {
            "title": "JSON schema for Mashling config file",
            "$schema": "",
            "type": "object",
            "default": {},
            "properties": {
                "gateway": {
                    "type": "object",
                    "required": [
                        "name",
                        "version",
                        "configurations",
                        "triggers",
                        "event_handlers",
                        "event_links"
                    ],
                    "description": "Mashling json gateway object",
                    "properties": {
                        "name": {
                            "default": "demoapp",
                            "description": "My Mashling application name",
                            "type": "string"
                        },
                        "version": {
                            "default": "1.0.0",
                            "description": "version number",
                            "type": "string"
                        },
                        "description": {
                            "default": "My Mashling application description",
                            "description": "Application description",
                            "type": "string"
                        },
                        "configurations": {
                            "$ref": "configurationsSchema.json#/configurations"
                        },
                        "triggers": {
                            "$ref": "triggersSchema.json#/triggers"
                        },
                        "event_handlers": {
                            "$ref": "eventhandlersSchema.json#/event_handlers"
                        },
                        "event_links": {
                            "$ref": "eventlinksSchema.json#/event_links"
                        }
                    },
                    "additionalProperties": false
                }
            },
            "additionalProperties": false
        },
        {
            "title": "JSON schema for Mashling config file",
            "$schema": "",
            "type": "object",
            "default": {
                "gateway": {
                    "name": "demoapp",
                    "version": "1.0.0",
                    "description": "This is the first microgateway app",
                    "configurations": [
                        {
                            "name": "kafkaConfig",
                            "type": "github.com/wnichols/kafkasub",
                            "description": "Configuration for kafka cluster",
                            "settings": {
                                "BrokerUrl": "localhost:9092",
                                "username":"",
                                "password":""
                            }
                        }
                    ],
                    "triggers": [
                        {
                            "name": "rest_trigger",
                            "description": "The trigger on 'pets' endpoint",
                            "type": "github.com/TIBCOSoftware/flogo-contrib/trigger/rest",
                            "settings": {
                                
                            }
                        }
                    ],
                    "event_handlers": [
                        {
                            "name": "get_pet_success_handler",
                            "description": "Handle the pet access",
                            "reference": "github.com/TIBCOSoftware/mashling-lib/flow/flogo.json",
                            "params": {
                                "uri": "petstore.swagger.io/v2/pet/3"
                            }
                        }
                    ],
                    "event_links": [
                        {
                            "triggers": "rest_trigger",
                            "dispatches": [
                                {
                                    "if":"${}",
                                    "handler": "get_pet_success_handler"
                                }
                            ]
                        }
                    ]
                }
            },
            "properties": {
                "gateway": {
                    "type": "object",
                    "description": "Mashling json gateway object",
                    "required": [
                        "name",
                        "version",
                        "configurations",
                        "triggers",
                        "event_handlers",
                        "event_links"
                    ],
                    "properties": {
                        "name": {
                            "default": "",
                            "description": "My Mashling application name",
                            "type": "string"
                        },
                        "version": {
                            "default": "1.0.0",
                            "description": "version number",
                            "type": "string"
                        },
                        "description": {
                            "default": "My Mashling application description",
                            "description": "Application description",
                            "type": "string"
                        },
                        "configurations": {
                            "$ref": "configurationsSchema.json#/configurations"
                        },
                        "triggers": {
                            "$ref": "triggersSchema.json#/triggers"
                        },
                        "event_handlers": {
                            "$ref": "eventhandlersSchema.json#/event_handlers"
                        },
                        "event_links": {
                            "$ref": "eventlinksSchema.json#/event_links"
                        }
                    },
                    "additionalProperties": false
                }
            },
            "additionalProperties": false
        }
    ]
}